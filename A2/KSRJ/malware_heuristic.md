# OS Lab - Group 24
## Malware Detection
### Problem Statement
Impement a "Malware Detecter" to which prints the process id of all the ancestors of the given process. -suggest flag additionally detect which process id is root of the malware.

### Heuristic
We First Implement the following utility functions - 

1) int getparent(int pid) - returns the pid of the parent process of the given process id
2) double get_cpu_usage(int pid) - return percentage of cpu used by the given process

These utility functions are implemented by parsing the status file of the processes , namely the `proc/<pid>/stat`

Our Heuristic is as follows -

We first generate `vector<int> parents` , the entire list of parents of the given process.
Then, we iterate over this array (We already know that the malware process `must be an ancestor` of the given process id)
    
    for each ancestor of the given process
        if cpu_usage of ancestor < alpha * cpu_usage of child
            return ancestor
Where `alpha = 0.001` is a hyperparameter defined by us.

### Explanation
We know, all children/grandchildren of the malware will have high cpu usage whereas the malware will have close to 0 cpu usage, since it spends most of its time in `sleep`, thus, the first process which has a drastic change in cpu usage must be the `Malware`.
